@* @model List<Ecommerce.Models.Order> *@
@* @await Html.PartialAsync("_Alerts") *@


@* <h2>All Orders</h2> *@

@* @if (!Model.Any()) *@
@* { *@
@*     <p>No orders found.</p> *@
@* } *@
@* else *@
@* { *@
@*     <table class="table"> *@
@*         <thead> *@
@*             <tr> *@
@*                 <th>Order ID</th> *@
@*                 <th>Customer</th> *@
@*                 <th>Address</th> *@
@*                 <th>Date</th> *@
@*                 <th>Status</th> *@
@*                 <th>Products</th> *@
@*             </tr> *@
@*         </thead> *@
@*         <tbody> *@
@*             @foreach (var order in Model) *@
@*             { *@
@*                 <tr> *@
@*                     <td>@order.OrderId</td> *@
@*                     <td>@order.Customer?.Name (@order.Customer?.Email)</td> *@
@*                     <td> *@
@*                          @order.Address?.City, @order.Address?.State - @order.Address?.PostalCode *@
@*                     </td> *@
@*                     <td>@order.CreatedDate.ToString("yyyy-MM-dd")</td> *@
@*                     <td>@order.Status</td> *@
@*                     <td> *@
@*                         <ul> *@
@*                             @foreach (var product in order.Products) *@
@*                             { *@
@*                                 <li>@product.Name - ₹@product.Price</li> *@
@*                             } *@
@*                         </ul> *@
@*                     </td> *@
@*                 </tr> *@
@*             } *@
@*         </tbody> *@
@*     </table> *@
@* } *@



@model List<Ecommerce.Models.Order>
@await Html.PartialAsync("_Alerts")

<div class="max-w-7xl mx-auto p-6">
    <h2 class="text-3xl font-semibold mb-6 text-gray-800">All Orders</h2>

    @if (!Model.Any())
    {
        <p class="text-gray-600">No orders found.</p>
    }
    else
    {
        <div class="overflow-x-auto bg-white rounded-lg shadow">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Address</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Products</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    @foreach (var order in Model)
                    {
                        <tr>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">@order.OrderId</td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                                @order.Customer?.Name<br />
                                <span class="text-gray-500 text-xs">@order.Customer?.Email</span>
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                                @order.Address?.City, @order.Address?.State - @order.Address?.PostalCode
                            </td>
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                                @order.CreatedDate.ToString("yyyy-MM-dd")
                            </td>
                            @* <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold *@
                            @*            @(order.Status == "Completed" ? "text-green-600" : *@
                            @*              order.Status == "Pending" ? "text-yellow-600" : "text-red-600")"> *@
                            @*     @order.Status *@
                            @* </td> *@
                            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                                <ul class="list-disc list-inside space-y-1 max-w-xs">
                                    @foreach (var product in order.Products)
                                    {
                                        <li>@product.Name - ₹@product.Price</li>
                                    }
                                </ul>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>
